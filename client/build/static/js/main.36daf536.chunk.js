(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){},39:function(e,t,a){},41:function(e,t){e.exports="data:image/png;base64,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"},43:function(e,t,a){e.exports=a(76)},48:function(e,t,a){},54:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),s=a(4),i=a(5),o=a(7),d=a(6),u=a(8),m=a(2),p=a(19),h=(a(48),function(e){return{type:"GET_PRODUCTS",payload:e}}),E=function(e){return{type:"EDIT_PRODUCT_CLICKED",editProductClicked:e}},f=function(e){return{type:"EXPENSES_CLICKED",expensesClicked:e}},g=function(e){return{type:"TABLE_UPDATED",tableUpdated:e}},b=a(23),y=a(18),A={products:[],totalPrice:"",productToEdit:"",editProductClicked:"",expensesClicked:!1,tableUpdated:!1,nameUpdated:null};var C=Object(b.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(y.a)({},e,{products:t.payload});case"DELETE_PRODUCT":var a=e.products.filter((function(e){return t.payload._id!==e._id}));return Object(y.a)({},e,{products:a});case"GET_TOTAL_PRICE":return Object(y.a)({},e,{totalPrice:t.payload});case"EDIT_PRODUCT":return Object(y.a)({},e,{productToEdit:t.product});case"EDIT_PRODUCT_CLICKED":return Object(y.a)({},e,{editProductClicked:t.editProductClicked});case"EXPENSES_CLICKED":return Object(y.a)({},e,{expensesClicked:t.expensesClicked});case"TABLE_UPDATED":return Object(y.a)({},e,{tableUpdated:t.tableUpdated});case"NAME_UPDATED":return Object(y.a)({},e,{nameUpdated:t.nameUpdated});default:return e}})),v=(a(30),function(e){return l.a.createElement("div",{id:"alert",className:"log-out"},l.a.createElement("div",{id:"alert-container"},l.a.createElement("div",{id:"alert-text-container"},l.a.createElement("h1",null,"You are signing out"),l.a.createElement("p",null,"You are about to sign out. Are you sure ?")),l.a.createElement("div",{id:"alert-buttons"},l.a.createElement("button",{className:"alert-btn",id:"cancel-alert-btn",onClick:e.hide},"CANCEL"),l.a.createElement("button",{className:"alert-btn",id:"delete-alert-btn",onClick:e.signOutAccepted},"SIGN OUT"))))}),N=a(41),k=a.n(N),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).expensesClicked=function(){C.dispatch(f(!a.state.expensesClicked))},a.productsClicked=function(){a.setState({expensesClicked:!1}),C.dispatch(f(a.state.expensesClicked))},a.signOutClicked=function(){a.setState({signOutClicked:!0})},a.hideSignOut=function(){a.setState({signOutClicked:!1})},a.signOutAccepted=function(){localStorage.clear(),localStorage.removeItem("jwt"),a.setState({signOut:!0})},a.state={expensesClicked:!1,signOut:!1,signOutClicked:!1,nameUpdated:!1,name:localStorage.getItem("first_name")+" "+localStorage.getItem("last_name")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("jwt")?null:l.a.createElement(p.a,{to:"/"}),l.a.createElement("header",null,l.a.createElement("nav",{className:"nav"},l.a.createElement("div",{className:"buttons"},l.a.createElement(m.c,{to:"/products",className:"btn-links",onClick:this.productsClicked}," Products"),l.a.createElement(m.c,{to:"/expenses",className:"btn-links",onClick:this.expensesClicked}," Expenses")),l.a.createElement("div",{className:"right-side"},l.a.createElement("img",{id:"profile-image",src:k.a,alt:"profile-image"}),l.a.createElement("p",{id:"name-p"},this.state.name),l.a.createElement("p",{className:"user-info"},l.a.createElement(m.b,{to:"/user-info"},"Your Info")),l.a.createElement("p",{className:"sign-out"},l.a.createElement(m.b,{to:"#",onClick:this.signOutClicked},"Sign Out"))))),this.state.signOutClicked?l.a.createElement(v,{hide:this.hideSignOut,signOutAccepted:this.signOutAccepted}):null)}}]),t}(l.a.Component),S=(a(54),a(15)),I=a(3),x=a.n(I),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).yearlySelect=function(){a.setState({monthlyDisplay:!1,yearlyDisplay:!0,active:!1,yearlySelected:"all",filter:null})},a.monthlySelect=function(){a.setState({yearlyDisplay:!1,monthlyDisplay:!0,active:!0,yearlySelected:"all",filter:null})},a.yearlySelectHandler=function(e){a.setState({yearlySelected:e.target.value})},a.monthlySelectHandler=function(e){a.setState({filter:e.target.value})},a.state={monthlyDisplay:!1,yearlyDisplay:!0,active:!1,filter:null,yearlySelected:null},a.year=(new Date).getFullYear()-20,a.years=Array.from(new Array(21),(function(e,t){return t+a.year})),a.months=["January","February","March","April","May","June","July","August","September","October","November","December"],a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){if("all"===this.state.yearlySelected)x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data))})).catch((function(e){console.log(e)}));else if(null==this.state.yearlySelected||4!==this.state.yearlySelected.length||this.state.monthlyDisplay){if(null!=this.state.filter&&null!=this.state.yearlySelected&&this.state.monthlyDisplay){for(var e,t=0;t<this.months.length;t++)this.state.filter===this.months[t]&&(e=t+1,1===t.toString().length&&(e="0"+e.toString()));var a=new Date("".concat(this.state.yearlySelected,"-").concat(e,"-01 00:00:00.000")).getTime(),n=new Date("".concat(this.state.yearlySelected,"-").concat(e,"-31 23:59:59.000")).getTime();x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?date_from=".concat(a,"&date_to=").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data))})).catch((function(e){return console.log(e)}))}}else{var l=new Date("".concat(this.state.yearlySelected,"-01-01 00:00:00.000")).getTime(),r=new Date("".concat(this.state.yearlySelected,"-12-31 23:59:59.000")).getTime();x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?date_from=".concat(l,"&date_to=").concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=l.a.createElement("select",{name:"year-select",className:"month-select",onChange:this.yearlySelectHandler},l.a.createElement("option",{defaultChecked:!0,value:"all"}," ALL"),this.years.map((function(e,t){return l.a.createElement("option",{key:"year".concat(t),value:e},e)}))),t=l.a.createElement("select",{name:"month-select",className:"month-select select-box",onChange:this.monthlySelectHandler},l.a.createElement("option",{defaultChecked:!0},"Month"),this.months.map((function(e,t){return l.a.createElement("option",{key:"month".concat(t),value:e},e)}))),a=l.a.createElement("div",{className:"yearMonthly-div"},t,e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(this.props.header,null),l.a.createElement("h3",{id:"expenses-h3"},"Expenses"),l.a.createElement("div",{className:"expenses-div"},l.a.createElement(m.b,{to:"#"},l.a.createElement("button",{className:this.state.active?"select-btn":"active-btn select-btn",onClick:this.yearlySelect},"Yearly")),l.a.createElement(m.b,{to:"#"},l.a.createElement("button",{className:this.state.active?"active-btn select-btn":"select-btn",onClick:this.monthlySelect},"Monthly")),l.a.createElement("div",{className:"select-div"},this.state.monthlyDisplay?l.a.createElement("label",{htmlFor:"month-select"},"Choose month and year:"):l.a.createElement("label",{htmlFor:"year-select"},"Choose year:"),this.state.monthlyDisplay?a:e)),l.a.createElement(this.props.table,null),l.a.createElement("div",{className:"transparent-div"},l.a.createElement("p",null,"Total spent: ",l.a.createElement("span",null,this.props.totalPrice)," den.")))}}]),t}(l.a.Component);var O=Object(S.b)((function(e){return{totalPrice:e.totalPrice}}))(D),P=(a(72),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).newProductHandler=function(){a.setState({clicked:!0}),C.dispatch(E(a.state.clicked))},a.filterHandler=function(e){a.setState({filterOption:e.target.value})},a.state={clicked:!1,filterOption:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){null!==this.state.filterOption&&x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?sort=".concat(this.state.filterOption),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(this.props.header,null),l.a.createElement("div",{className:"main-div"},l.a.createElement("h3",null,"Products"),l.a.createElement("label",{htmlFor:"sort"},"Filter by:",l.a.createElement("select",{name:"filterOption",id:"sort",onChange:this.filterHandler},l.a.createElement("option",{value:"date:desc"},"Last Purchase"),l.a.createElement("option",{value:"date:asc"},"First Purchase"),l.a.createElement("option",{value:"price:desc"},"Highest Price"),l.a.createElement("option",{value:"price:asc"},"Lowest Price")))),l.a.createElement(this.props.table,null),l.a.createElement(m.b,{to:"/new-product"},l.a.createElement("button",{className:"new-btn",onClick:this.newProductHandler},"New Product")))}}]),t}(l.a.Component)),j=a(14),B=(a(73),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).saveProduct=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.createProduct=function(e){""==a.state.name||""==a.state.type||""==a.state.description||""==a.state.date||""==a.state.price?(e.preventDefault(),alert("Fill out the fields correctly!")):""===a.state.name&&""===a.state.type&&""===a.state.description&&""===a.state.date&&""===a.state.price||(C.dispatch(g(!a.state.tableUpdated)),x.a.post("https://stark-island-29614.herokuapp.com/app/v1/products/",{name:a.state.name,type:a.state.type,description:a.state.description,date:a.state.date,price:a.state.price,_created:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e})).catch((function(e){return console.log(e)})))},a.editProduct=function(e){""===a.state.name||""===a.state.type||""===a.state.description||""===a.state.date||""===a.state.price?(alert("Please fill the fields!"),e.preventDefault()):(C.dispatch(g(!a.state.tableUpdated)),x.a.put("https://stark-island-29614.herokuapp.com/app/v1/products/".concat(a.props.productToEdit._id),{name:a.state.name,type:a.state.type,description:a.state.description,date:a.state.date,price:a.state.price,_modified:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},a.state={name:a.props.editProductClicked?a.props.productToEdit.name:"",type:a.props.editProductClicked?a.props.productToEdit.type:"",description:a.props.editProductClicked?a.props.productToEdit.description:"",date:a.props.editProductClicked?a.props.productToEdit.date:"",price:a.props.editProductClicked?a.props.productToEdit.price:"",tableUpdated:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(this.props.header,null),this.props.editProductClicked?l.a.createElement("h3",{id:"new-products-h3"},"Edit Product"):l.a.createElement("h3",{id:"new-products-h3"},"New Product"),l.a.createElement("main",{id:"main-box"},l.a.createElement("div",{className:"box-container"},l.a.createElement("div",{className:"form-box"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"name"},"Product Name"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.name:"",onChange:this.saveProduct,className:"text-field",type:"text",name:"name",id:"name"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"description"},"Product Description"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.description:"",onChange:this.saveProduct,className:"text-field",type:"text",name:"description",id:"description"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"type"},"Product Type"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.type:"",onChange:this.saveProduct,className:"text-field",type:"text",name:"type",id:"type"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"date"},"Product Date"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?this.props.productToEdit.date.toString().slice(0,10):"",onChange:this.saveProduct,className:"text-field",type:"date",name:"date",id:"date"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"price"},"Product Price"),l.a.createElement("input",{defaultValue:this.props.editProductClicked?Number(this.props.productToEdit.price):"",onChange:this.saveProduct,className:"text-field",type:"text",name:"price",id:"price"})),l.a.createElement(m.b,{to:"/products"},this.props.editProductClicked?l.a.createElement("button",{onClick:this.editProduct,id:"primary-button",className:"primary-btn",type:"submit"}," Edit Product"):l.a.createElement("button",{onClick:this.createProduct,id:"primary-button",className:"primary-btn",type:"submit"}," Create Product"))))),l.a.createElement("div",{className:"new-product-div"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus-circle"})),this.props.editProductClicked?l.a.createElement("h3",null,"You are editing a product"):l.a.createElement("h3",null,"You are creating a new product"))))}}]),t}(l.a.Component));var U=Object(S.b)((function(e){return{productToEdit:e.productToEdit,editProductClicked:e.editProductClicked}}))(B),T=(a(39),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).saveLoginData=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.redirectToMain=function(){if(a.state.signed)return l.a.createElement(p.a,{to:"/products"})},a.signIn=function(e){localStorage.clear(),e.preventDefault(),x.a.post("https://stark-island-29614.herokuapp.com/app/v1/auth/login",{email:a.state.email,password:a.state.password}).then((function(e){localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("email",e.data.email),localStorage.setItem("first_name",e.data.first_name),localStorage.setItem("last_name",e.data.last_name),a.setState({signed:!0})})).catch((function(e){console.log(e)}))},a.state={email:null,password:null,signed:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.redirectToMain(),l.a.createElement("main",null,l.a.createElement("div",{className:"box",id:"login"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"email"},"E-mail"),l.a.createElement("input",{onChange:this.saveLoginData,className:"text-field",type:"email",name:"email",id:"email"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"password"},"Password"),l.a.createElement("input",{onChange:this.saveLoginData,className:"text-field",type:"password",name:"password",id:"password"})),l.a.createElement("button",{className:"primary-btn",type:"submit",onClick:this.signIn},"Sign in"))),l.a.createElement("div",{className:"textDiv"},l.a.createElement("p",null,"Or if you don't have an account, ",l.a.createElement(m.b,{to:"/register",className:"additional-info"},"Register")))))}}]),t}(l.a.Component)),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).saveUserToState=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.redirectToMain=function(){if(a.state.signed)return l.a.createElement(p.a,{to:"/products"})},a.saveUser=function(e){null==a.state.first_name||null==a.state.last_name||null==a.state.email||null==a.state.date_of_birth||null==a.state.telephone||null==a.state.country||null==a.state.password?(e.preventDefault(),alert("Please input correct data!")):null!==a.state.first_name&&null!==a.state.last_name&&null!==a.state.email&&null!==a.state.date_of_birth&&null!==a.state.telephone&&null!==a.state.country&&null!==a.state.password&&(e.preventDefault(),x.a.post("https://stark-island-29614.herokuapp.com/app/v1/auth/register",{first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,password:a.state.password,date_of_birth:a.state.date_of_birth,telephone:a.state.telephone,country:a.state.country,_created:new Date}).then((function(e){localStorage.clear(),x.a.post("https://stark-island-29614.herokuapp.com/app/v1/auth/login",{email:a.state.email,password:a.state.password}).then((function(e){localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("email",e.data.email),localStorage.setItem("first_name",e.data.first_name),localStorage.setItem("last_name",e.data.last_name),a.setState({signed:!0})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})))},a.state={first_name:null,last_name:null,email:null,date_of_birth:null,telephone:null,country:null,password:null,signed:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.redirectToMain(),l.a.createElement("div",{className:"box",id:"register"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",id:"first-name-label",htmlFor:"first_name"},"First Name"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"text",name:"first_name",id:"first_name"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"last_name"},"Last Name"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"text",name:"last_name",id:"last_name"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"email"},"E-mail"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"email",name:"email",id:"email"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"date_of_birth"},"Date of Birth"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"date",name:"date_of_birth",id:"date_of_birth"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"telephone"},"Telephone"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"text",name:"telephone",id:"telephone"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"country"},"Country"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"text",name:"country",id:"country"})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-field-input",htmlFor:"password"},"Password"),l.a.createElement("input",{onChange:this.saveUserToState,className:"text-field",type:"password",name:"password",id:"password"})),l.a.createElement("button",{className:"primary-btn",type:"submit",onClick:this.saveUser},"Register"))),l.a.createElement("div",{className:"textDiv"},l.a.createElement("p",null,"Or if you already have an account, ",l.a.createElement(m.b,{className:"additional-info",to:"/"},"Sign in"))))}}]),t}(l.a.Component),R=(a(74),function(e){return l.a.createElement("div",{id:"alert",className:"delete"},l.a.createElement("div",{id:"alert-container"},l.a.createElement("div",{id:"alert-text-container"},l.a.createElement("h1",null,"Delete Product"),l.a.createElement("p",null,"You are about to delete this product. Are you sure you wish to continue ?")),l.a.createElement("div",{id:"alert-buttons"},l.a.createElement("button",{className:"alert-btn",id:"cancel-alert-btn",onClick:e.hide},"CANCEL"),l.a.createElement("button",{className:"alert-btn",id:"delete-alert-btn",onClick:e.delete},"DELETE"))))});var G=Object(S.b)((function(e){return{expensesClicked:e.expensesClicked}}))((function(e){return l.a.createElement("tr",{id:"first-tr",className:"body-tr"},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.description),l.a.createElement("td",null,e.date.toString().slice(0,10)),l.a.createElement("td",null,e.price),e.expensesClicked?null:l.a.createElement(e.tableTools,{editProduct:e.editProduct,deleteProduct:e.deleteProduct}))})),_=function(e){return l.a.createElement("td",null,l.a.createElement(m.b,{to:"/edit-product"},l.a.createElement("button",{id:"edit-button",onClick:e.editProduct},l.a.createElement("i",{className:"far fa-edit"}))),l.a.createElement("button",{onClick:e.deleteProduct,id:"delete-button"},l.a.createElement("i",{className:"far fa-trash-alt"})))},H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).hideAlert=function(){a.setState({alertShow:!1})},a.editProduct=function(e){var t=!a.state.editProductClicked;C.dispatch(function(e,t){return{type:"EDIT_PRODUCT",product:e,editProductClicked:t}}(e)),C.dispatch(E(t))},a.deleteProduct=function(e,t){a.setState({alertShow:!1}),x.a.delete("https://stark-island-29614.herokuapp.com/app/v1/products/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){console.log(t),C.dispatch(function(e){return{type:"DELETE_PRODUCT",payload:e}}(e))})).catch((function(e){console.log(e)}))},a.deleteProductHandler=function(e){a.setState({product:e}),a.setState({alertShow:!0})},a.state={alertShow:!1,product:null,editProductClicked:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.products&&x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data));for(var t=0,a=0;a<e.data.length;a++)t+=parseInt(e.data[a].price);C.dispatch({type:"GET_TOTAL_PRICE",payload:t})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){this.props.tableUpdated&&x.a.get("https://stark-island-29614.herokuapp.com/app/v1/products/?sort=date:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){C.dispatch(h(e.data)),C.dispatch(g(!1))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=null;this.props.products&&(t=this.props.products.map((function(t){return l.a.createElement(G,{key:t.name+Math.random(),name:t.name,deleteProduct:function(){return e.deleteProductHandler(t)},editProduct:function(){return e.editProduct(t)},type:t.type,description:t.description,date:t.date,price:t.price,tableTools:_})})));var a=null;return this.state.alertShow&&(a=l.a.createElement(R,{hide:this.hideAlert,delete:function(){return e.deleteProduct(e.state.product,e.state.product._id)}})),l.a.createElement(l.a.Fragment,null,l.a.createElement("main",{className:"main-box"},l.a.createElement("table",{className:"Table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Product Type"),l.a.createElement("th",null,"Product Description"),l.a.createElement("th",null,"Purchase Date"),l.a.createElement("th",null,"Product Price"),this.props.expensesClicked?null:l.a.createElement("th",null,"Product Options"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{id:"emptyTd"})),t))),a)}}]),t}(l.a.Component);var Y=Object(S.b)((function(e){return{products:e.products,expensesClicked:e.expensesClicked,tableUpdated:e.tableUpdated}}))(H),Q=(a(75),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).saveUserInfo=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value)),console.log(a.state.address)},a.checkboxClickedHandler=function(e){a.setState({addressCheckbox:e.target.checked})},a.updateUserInfo=function(e){0===a.state.first_name.length&&0===a.state.last_name.length&&0===a.state.email.length&&0===a.state.birthday.length&&0===a.state.country.length&&0===a.state.telephone.length?(alert("Please fill the fields!"),e.preventDefault()):x.a.put("https://stark-island-29614.herokuapp.com/app/v1/auth/user-info/".concat(a.state.id),{first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,date_of_birth:a.state.birthday,country:a.state.country,telephone:a.state.telephone,_address:a.state.address},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){localStorage.setItem("email",a.state.email),localStorage.setItem("first_name",a.state.first_name),localStorage.setItem("last_name",a.state.last_name),C.dispatch({type:"NAME_UPDATED",nameUpdated:!0})})).catch((function(e){console.log(e)}))},a.state={first_name:"",last:"",email:"",birthday:"",country:"",telephone:"",id:"",addressCheckbox:!1,address:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.post("https://stark-island-29614.herokuapp.com/app/v1/auth/user-info",{email:localStorage.getItem("email")},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({first_name:t.data[0].first_name,last_name:t.data[0].last_name,email:t.data[0].email,birthday:t.data[0].date_of_birth.toString().slice(0,10),country:t.data[0].country,telephone:t.data[0].telephone,id:t.data[0]._id,address:t.data[0]._address})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(this.props.header,null),l.a.createElement("h3",{className:"general-h3"},"General Account Settings"),l.a.createElement("main",{className:"user-info-main"},l.a.createElement("div",{className:"user-info-div"},l.a.createElement("div",{className:"user-form-box"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"first_name",className:"val-label"},"First Name: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"first_name",name:"first_name",className:"val-input",type:"text",defaultValue:this.state.first_name})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"last_name",className:"val-label"},"Last Name: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"last_name",name:"last_name",className:"val-input",type:"text",defaultValue:this.state.last_name})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"birthday",className:"val-label"},"Birthday: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"birthday",name:"birthday",className:"val-input",type:"date",defaultValue:this.state.birthday})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"email",className:"val-label"},"Email: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"email",name:"email",className:"val-input",type:"email",defaultValue:this.state.email})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"country",className:"val-label"},"Country: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"country",name:"country",className:"val-input",type:"text",defaultValue:this.state.country})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"telephone",className:"val-label"},"Telephone: "),l.a.createElement("input",{onChange:this.saveUserInfo,id:"telephone",name:"telephone",className:"val-input",type:"text",defaultValue:this.state.telephone})),l.a.createElement("p",{className:"address-p"},l.a.createElement("label",{htmlFor:"addressCheckbox",className:"val-label"},"If you want to add an address, select: "),l.a.createElement("input",{onChange:this.checkboxClickedHandler,type:"checkbox",name:"addressCheckbox",id:"addressCheckbox"})),this.state.addressCheckbox?l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{htmlFor:"address",className:"val-label"},"Address: "),l.a.createElement("input",{onChange:this.saveUserInfo,defaultValue:this.state.address,className:"val-input",type:"text",name:"address",id:"address"})):null,l.a.createElement(m.b,{to:"/products"},l.a.createElement("button",{className:"save-btn",onClick:this.updateUserInfo},"Save Settings"))))),l.a.createElement("div",{className:"new-product-div"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement("h3",null,"You are changing your user account settings"))))}}]),t}(l.a.Component)),M=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/",component:T}),l.a.createElement(p.b,{exact:!0,path:"/register",component:F}),l.a.createElement(p.b,{exact:!0,path:"/products",render:function(){return l.a.createElement(P,{header:w,table:Y})}}),l.a.createElement(p.b,{exact:!0,path:"/expenses",render:function(){return l.a.createElement(O,{header:w,table:Y})}}),l.a.createElement(p.b,{exact:!0,path:"/new-product",render:function(){return l.a.createElement(U,{header:w})}}),l.a.createElement(p.b,{exact:!0,path:"/edit-product",render:function(){return l.a.createElement(U,{header:w})}}),l.a.createElement(p.b,{exact:!0,path:"/user-info",render:function(){return l.a.createElement(Q,{header:w})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(S.a,{store:C},l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.36daf536.chunk.js.map